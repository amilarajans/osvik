<div id="page-wrapper" class="col-lg-10 col-lg-offset-2">

    <div class="container-fluid">

        <!-- Page Heading -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">
                    Stock In
                    <small>GRN</small>
                </h1>
                <ol class="breadcrumb">
                    <li>
                        <i class="fa fa-dashboard"></i> <a href="#dashboard">Dashboard</a>
                    </li>
                    <li class="active">
                        <i class="fa fa-file"></i> Stock In
                    </li>
                </ol>
            </div>
        </div>
        <form role="form">
            <div class="row">
                <div class="col-lg-3 text-left">
                    <div class="form-group">
                        <label></label>
                        Source Of Supplier<span style="color: red">*</span>
                        <select class="form-control" ng-model="item.location">
                            <option value="">Select a Source</option>
                            <option>Imported</option>
                            <option>Local purchasing</option>
                        </select>
                    </div>

                </div>
                <div class="col-lg-3 text-left">
                    <div class="form-group">
                        Supplier Invoice No
                        <input class="form-control" placeholder="Invoice No" id="inputSuccess"
                               ng-model="item.invoiceNo">
                    </div>
                </div>
                <div class="col-lg-3 text-left">Cost Price ( landed price )<span style="color: red">*</span>
                    <div class="form-group input-group">
                        <span class="input-group-addon">Rs.</span>
                        <input style="font-size: small;" class="form-control" placeholder="must code"
                               ng-model="item.costPrice">
                        <span class="input-group-addon">.00</span>
                    </div>
                </div>
            </div>

            <!-- /.row -->
            <!--code-->
            <div class="row">
                <div class="col-lg-3 text-left">
                    <div class="form-group">
                        Item Code<span style="color: red">*</span>
                        <ui-select ng-model="item.code" theme="select2"
                                   on-select="currentItem($item)"
                                   ng-disabled="disabled" style="width: 100%;" title="Choose a Item">
                            <ui-select-match placeholder="Select a Item">
                                {{$select.selected.code}}
                            </ui-select-match>
                            <ui-select-choices
                                    repeat="item.code as item in itemsList | propsFilter: {code: $select.search, name: $select.search}">
                                <div ng-bind-html="item.code | highlight: $select.search"></div>
                                <small>
                                    name: {{item.name}}
                                    code: <span
                                        ng-bind-html="''+item.code | highlight: $select.search"></span>
                                </small>
                            </ui-select-choices>
                        </ui-select>
                    </div>
                </div>
                <div class="col-lg-3 text-left">
                    <div class="form-group">
                        QTY<span style="color: red">*</span>
                        <input class="form-control" placeholder="Enter QTY" ng-model="item.qty">
                    </div>
                </div>

                <div class="col-lg-3 text-left">
                    <div class="form-group">
                        Item Unit
                        <input class="form-control" value="{{selectedItem.unitName}}" disabled>
                    </div>
                </div>
                <div class="col-lg-3 text-left">Unit Price<span style="color: red">*</span>
                    <div class="form-group input-group">
                        <span class="input-group-addon">Rs.</span>
                        <input style="font-size: small;" class="form-control" placeholder="53"
                               ng-model="item.price">
                        <span class="input-group-addon">.00</span>
                    </div>
                </div>

            </div>
            <!-- /.row -->
            <!--lot-->
            <div class="row">
                <div class="col-lg-3 text-left">
                    Date Of Manufacture<span style="color: red">*</span>
                    <div class="form-group">
                        <div class='input-group date' id='datetimepicker1'>
                            <input type="date" class="form-control" ng-model="item.mfd"/>
                            <span class="input-group-addon">
                                <span class="glyphicon glyphicon-calendar"></span>
                            </span>
                        </div>
                    </div>

                </div>
                <div class="col-lg-3 text-left">
                    Date Of Expire<span style="color: red">*</span>
                    <div class="form-group">
                        <div class='input-group date' id='datetimepicker2'>
                            <input type="date" class="form-control" ng-model="item.doe"/>
                            <span class="input-group-addon">
                                <span class="glyphicon glyphicon-calendar"></span>
                            </span>
                        </div>
                    </div>

                </div>
                <div class="col-lg-3 text-left">
                    <div class="form-group">
                        Lot No<input class="form-control" placeholder="Enter Lot No" ng-model="item.lotNo">
                    </div>
                </div>
                <div class="col-lg-3 text-left">
                    <div class="form-group">
                        Batch No
                        <input class="form-control" placeholder="Enter Batch No" ng-model="item.batchNo">
                    </div>
                </div>
            </div>
            <!--dom-->
            <div class="panel panel-primary">
                <div class="panel-body">
                    <div class="row">
                        <div class="col-lg-3 text-center">
                            <div class="form-group input-group">
                                <span class="input-group-addon">Stock In Hand</span>
                                <input style="font-size: large" readonly="" type="text" class="form-control"
                                       placeholder=" Stock" value="{{selectedItem.qty}}">
                            </div>
                        </div>
                        <div class="col-lg-3 text-center">
                            <input readonly="" class="form-control" placeholder="Major Category"
                                   value="{{selectedItem.categoryName}}">
                        </div>
                        <div class="col-lg-3 text-center">
                            <input readonly="" class="form-control" placeholder="Sub Category"
                                   value="{{selectedItem.subCategoryName}}">
                        </div>
                    </div>
                    <br/>
                    <div class="row">
                        <div class="col-lg-3 text-center">
                            <input readonly="" class="form-control" placeholder="Item Name"
                                   value="{{selectedItem.name}}">
                        </div>
                        <div class="col-lg-3 text-center">
                            <input readonly="" class="form-control" placeholder="Supplier"
                                   value="{{selectedItem.supplierName}}">
                        </div>
                        <div class="col-lg-6 text-center">
                            <textarea readonly="" class="form-control" rows="3" placeholder="Description">
                                 {{selectedItem.description}}
                            </textarea>
                        </div>

                    </div>
                </div>

            </div>
            <!--sys manfac detai-->

            <button type="submit" class="btn btn-success" ng-click="addItem()">
                {{'GENERAL.ACTION.SAVE' | translate}}
            </button>
            <button type="reset" class="btn btn-warning" ng-click="resetItem()">
                {{'GENERAL.ACTION.RESET' | translate}}
            </button>
        </form>
        <hr>
        <!--tabel start-->

        <div class="row">
            <div class="col-lg-12">
                <h3>Recent Stock Update </h3>

                <div class="table-responsive">
                    <table class="table table-bordered table-hover table-striped">
                        <thead>
                        <tr>
                            <th>#</th>
                            <th>Item Code</th>
                            <th>Name</th>
                            <th style="font-size: large">Qty</th>
                            <th>DOE</th>
                            <th>Lot No</th>
                            <th>Batch No</th>
                            <th>Price(Rs)</th>
                            <!--<th>Revenue</th>-->
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="item in itemList">
                            <td>{{$index+1}}</td>
                            <td>{{item.code}}</td>
                            <td>{{item.name}}</td>
                            <td style="font-size: large">{{item.qty}}</td>
                            <td>{{item.doe | date:'dd-MM-yyyy'}}</td>
                            <td>{{item.lotNo}}</td>
                            <td>{{item.batchNo}}</td>
                            <td>{{item.price | number:2}}</td>
                            <!--<td><button type="submit" class="btn btn-primary btn-sm" data-toggle="modal" data-target=".bs-example-modal-lg">View / Update </button></td>-->
                        </tr>
                        </tbody>
                    </table>
                    <uib-pagination ng-change="pageChanged()" total-items="totalItems" items-per-page="itemsPerPage"
                                    ng-model="currentPage" max-size="maxSize" class="pagination-sm"
                                    boundary-link-numbers="true"></uib-pagination>
                </div>
            </div>
        </div>
    </div>
    <!-- /.container-fluid -->

</div>
<!-- /#page-wrapper -->

